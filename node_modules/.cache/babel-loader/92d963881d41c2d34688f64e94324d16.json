{"ast":null,"code":"import _regeneratorRuntime from \"/home/m6d/Documents/react-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/m6d/Documents/react-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/m6d/Documents/react-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport axios from \"axios\";\nimport { useState, useCallback } from \"react\";\nvar initialState = {\n  data: [],\n  error: \"\",\n  isLoading: true\n};\n\nvar useFetchData = function useFetchData() {\n  var _useState = useState(initialState),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var fetchData =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var id, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              id = Math.floor(Math.random() * 1000) + 1;\n              _context.next = 4;\n              return axios.get(\"https://jsonplaceholder.typicode.com/photos?id=\".concat(id));\n\n            case 4:\n              res = _context.sent;\n              _context.next = 7;\n              return new Promise(function (res) {\n                setTimeout(function () {\n                  res();\n                }, 300);\n              });\n\n            case 7:\n              setData({\n                photos: res.data,\n                error: \"\",\n                isLoading: false\n              });\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              setData({\n                photos: [],\n                error: _context.t0.toString(),\n                isLoading: false\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var refreshData = useCallback(function () {\n    return setData(initialState);\n  }, []);\n  return {\n    data: data,\n    fetchData: fetchData,\n    refreshData: refreshData\n  };\n};\n\nexport default useFetchData;","map":{"version":3,"sources":["/home/m6d/Documents/react-hooks/src/components/Hooks/useFetchData/index.js"],"names":["axios","useState","useCallback","initialState","data","error","isLoading","useFetchData","setData","fetchData","id","Math","floor","random","get","res","Promise","setTimeout","photos","toString","refreshData"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,EADa;AAEnBC,EAAAA,KAAK,EAAE,EAFY;AAGnBC,EAAAA,SAAS,EAAE;AAHQ,CAArB;;AAMA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAAA,kBACDN,QAAQ,CAACE,YAAD,CADP;AAAA;AAAA,MAClBC,IADkB;AAAA,MACZI,OADY;;AAGzB,MAAMC,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAERC,cAAAA,EAFQ,GAEHC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,IAA3B,IAAmC,CAFhC;AAAA;AAAA,qBAGIb,KAAK,CAACc,GAAN,0DACkCJ,EADlC,EAHJ;;AAAA;AAGRK,cAAAA,GAHQ;AAAA;AAAA,qBAOR,IAAIC,OAAJ,CAAY,UAAAD,GAAG,EAAI;AACvBE,gBAAAA,UAAU,CAAC,YAAM;AACfF,kBAAAA,GAAG;AACJ,iBAFS,EAEP,GAFO,CAAV;AAGD,eAJK,CAPQ;;AAAA;AAadP,cAAAA,OAAO,CAAC;AAAEU,gBAAAA,MAAM,EAAEH,GAAG,CAACX,IAAd;AAAoBC,gBAAAA,KAAK,EAAE,EAA3B;AAA+BC,gBAAAA,SAAS,EAAE;AAA1C,eAAD,CAAP;AAbc;AAAA;;AAAA;AAAA;AAAA;AAedE,cAAAA,OAAO,CAAC;AAAEU,gBAAAA,MAAM,EAAE,EAAV;AAAcb,gBAAAA,KAAK,EAAE,YAAMc,QAAN,EAArB;AAAuCb,gBAAAA,SAAS,EAAE;AAAlD,eAAD,CAAP;;AAfc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATG,SAAS;AAAA;AAAA;AAAA,KAAf;;AAmBA,MAAMW,WAAW,GAAGlB,WAAW,CAAC;AAAA,WAAMM,OAAO,CAACL,YAAD,CAAb;AAAA,GAAD,EAA8B,EAA9B,CAA/B;AAEA,SAAO;AACLC,IAAAA,IAAI,EAAJA,IADK;AAELK,IAAAA,SAAS,EAATA,SAFK;AAGLW,IAAAA,WAAW,EAAXA;AAHK,GAAP;AAKD,CA7BD;;AA+BA,eAAeb,YAAf","sourcesContent":["import axios from \"axios\";\nimport { useState, useCallback } from \"react\";\n\nconst initialState = {\n  data: [],\n  error: \"\",\n  isLoading: true\n};\n\nconst useFetchData = () => {\n  const [data, setData] = useState(initialState);\n\n  const fetchData = async () => {\n    try {\n      const id = Math.floor(Math.random() * 1000) + 1;\n      const res = await axios.get(\n        `https://jsonplaceholder.typicode.com/photos?id=${id}`\n      );\n\n      await new Promise(res => {\n        setTimeout(() => {\n          res();\n        }, 300);\n      });\n\n      setData({ photos: res.data, error: \"\", isLoading: false });\n    } catch (error) {\n      setData({ photos: [], error: error.toString(), isLoading: false });\n    }\n  };\n\n  const refreshData = useCallback(() => setData(initialState), []);\n\n  return {\n    data,\n    fetchData,\n    refreshData\n  };\n};\n\nexport default useFetchData;\n"]},"metadata":{},"sourceType":"module"}